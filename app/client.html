<script type="importmap">
	{
	  "imports": {
		"vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.js"
	  }
	}
  </script>
  
  <div id="app">
	{{ message }}

		<form @submit.prevent="postForm">
			<input v-model ="attendee.name" name ="name" placeholder="Enter your name" />
			<input v-model ="attendee.notes" name ="notes" placeholder="Do you have any requirements?"/>
			<button > Add </button>
			{{attendee.name}}{{attendee.notes}}
		</form>

	</div>
  
  <script type="module">
	import { createApp } from 'vue'
  
	createApp({
	  data() { return { 
		message: 'Hello Vue!',
		attendee: { id:0, name: '',	notes: '',},
	}},
	methods: {
		clearForm() {
			console.log("Clearing the form")
			this.attendee.id = Math.random()
			this.attendee.name = ''
			this.attendee.notes = ''
		},
		postForm() {
			console.log(this.attendee)

			fetch('/attendee', {
				method: 'POST',
				headers: {'Content-Type': 'application/json'},
				body: JSON.stringify(this.attendee),
			})
				.then(response => response.json())
				.then(json => console.log('posed got stuff back', json))
				.then(() => this.clearForm())
				.catch(err => console.error(err));
		}
	},

	}).mount('#app')
  </script>